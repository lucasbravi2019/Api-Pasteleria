<queries>
    <query id="ingredient.findAll">
        select * from ingredient
    </query>
    <query id="ingredient.findById">
        select * from ingredient where id = @p1
    </query>
    <query id="ingredient.create">
        insert into ingredient (name) values (@p1)
    </query>
    <query id="ingredient.updateById">
        update ingredient set name = @p1 where id = @p2
    </query>
    <query id="ingredient.deleteById">
        delete from ingredient where id = @p1
    </query>
    <query id="ingredient.addPackage">
        insert into ingredient_package (ingredient_id, package_id, price) values (@p1, @p2, @p3)
    </query>
    <query id="ingredient.updatePackage">
        update ingredient_package set price = @p1 where package_id = @p2 and ingredient_id = @p3
    </query>
    <query id="ingredient.deletePackage">
        delete from ingredient_package where ingredient_id = @p1
    </query>
    <query id="ingredient.findAllIngredientPackages">
        select i.id, i.name, p.id, ip.price, p.metric, p.quantity from ingredient i 
        inner join ingredient_package ip on ip.ingredient_id = i.id
        inner join package p on p.id = ip.package_id
        where i.id = @p1
    </query>
</queries>